<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:Hoplings.DriverApp.ViewModels"
    x:Class="Hoplings.DriverApp.Pages.MainPage">

    <VerticalStackLayout Padding="20">

        <!-- ✅ Title -->
        <Label Text="Driver Availability"
               FontAttributes="Bold"
               FontSize="30"
               HorizontalOptions="Start" />

        <!-- ✅ Online/Offline Toggle -->
        <Switch 
            IsToggled="{Binding IsOnline}"
            HorizontalOptions="Start" />

        <Button 
            Text="{Binding IsOnline, Converter={StaticResource BoolToAvailabilityConverter}}" 
            Command="{Binding ToggleAvailabilityCommand}"
            HorizontalOptions="Start"
            Margin="0,20,0,0" />

        <!-- ✅ New: Show HubConnection State -->
        <Label 
            Text="{Binding HubConnectionState}"
            FontSize="18"
            TextColor="DarkBlue"
            HorizontalOptions="Start"
            Margin="0,30,0,0" />

        <!-- ✅ New: Button to Check HubConnection State -->
        <Button 
            Text="Check SignalR Connection State"
            Command="{Binding CheckConnectionStateCommand}"
            HorizontalOptions="Start"
            Margin="0,10,0,0" />

    </VerticalStackLayout>
</ContentPage>
